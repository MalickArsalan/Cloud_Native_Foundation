# The CD Fundamentals

![Continuous Delivery stages](9.ContinuousDeliveryStages.png)

``` bash

# deploy `python-helloworld` using the imperative approach 
kubectl create deploy python-helloworld --image=pixelpotato/python-helloworld:v1.0.0
```

``` bash

# deploy `python-helloworld` using the declarative approach
kubectl apply -f deployment.yaml
```

``` yaml

## API endpoint used to create the Application resource
apiVersion: argoproj.io/v1alpha1
kind: Application
## Set the name of the resource and namespace where it should be deployed.
## In this case the Application resource name is set to  `python-helloworld `
## and it is deployed in the `argocd` namespace
metadata:
  name: python-helloworld 
  namespace: argocd
spec:
  ## Set the target cluster and namespace to deploy the Python hello-world application.
  ## For example, the Python hello-world application is deployed in the `default` namespace
  ## within the local cluster or `https://kubernetes.default.svc`
  destination:
    namespace: default
    server: https://kubernetes.default.svc
  ## Set the project the application belongs to.
  ## In this case the `default` project is used.
  project: default
  ## Define the source of the Python hello-world application manifests.
  ## In this example, the manifests are stored in the `argocd-demo` repository
  ## under the `python-manifests` folder. Additionally, the latest commit within
  ## the repository is targeted or `HEAD`.
  source:
    path: python-manifests
    repoURL:
    https://github.com/kgamanji/argocd-demo
    targetRevision: HEAD
  # # Set the sync policy. 
  ## If left empty, the sync policy will default to manual.
  syncPolicy: {}
```

![App of Apps: manage the Application CRDs for multiple microservices with a single Application CRD](9.2.AppsOfApps.png)

## Argo CD

**New Terms:**

* **GitOps** - an operating model that refers to the Git repositories as the source of truth for declarative infrastructure and applications.

Further Reading
Explore the GitOps pattern and ArgoCD resources:

[A Guide To GitOps](https://www.weave.works/technologies/gitops/)
[ArgoCD Project CRD](https://argoproj.github.io/argo-cd/operator-manual/declarative-setup/#projects)
[ArgoCD Application CRD](https://argoproj.github.io/argo-cd/operator-manual/declarative-setup/#applications)
